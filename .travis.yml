language: generic

services:
  - docker

env:
  - DOCKER_IMAGE=centos:6
  - DOCKER_IMAGE=centos:7


#before_script:
#  - curl -s http://repo.aliyun.com/deb.gpg.key | sudo apt-key add -
#  - echo "deb http://repo.aliyun.com/apt/debian/ /" | sudo tee -a /etc/apt/sources.list
#  - sudo apt-get update -qq
#  - sudo apt-get -y install odpscmd
#  - sudo apt-get -y install odps-flume-plugin 


install:
  - echo $DOCKER_IMAGE
  - docker pull $DOCKER_IMAGE

script:
  - echo $DOCKER_IMAGE
  - docker run $DOCKER_IMAGE /bin/bash -c 'curl -s http://repo.aliyun.com/aliyun.repo > /etc/yum.repos.d/aliyun.repo && yum -y install odpscmd  && odpscmd --version'

